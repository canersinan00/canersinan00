name: Generate Shark Header

on:
  schedule:
    - cron: "0 */12 * * *" # 12 saatte bir yenilenir
  workflow_dispatch:
  push:
    branches: [main, master]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Create Big Shark Image
        run: |
          mkdir -p dist
          cat <<'EOT' > dist/shark.svg
          <svg width="1000" height="200" viewBox="0 0 1000 200" xmlns="http://www.w3.org/2000/svg">
            <style>
              .container { fill: transparent; }
              .shark-group { animation: swim-across 12s linear infinite; }
              .tail { animation: tail-wag 0.5s ease-in-out infinite alternate; transform-origin: 60px 100px; fill: #2c3e50; }
              .body { fill: #34495e; }
              @keyframes swim-across {
                from { transform: translateX(-400px); }
                to { transform: translateX(1100px); }
              }
              @keyframes tail-wag {
                from { transform: rotate(-10deg); }
                to { transform: rotate(10deg); }
              }
            </style>
            <rect class="container" width="1000" height="200" />
            <g class="shark-group">
              <!-- Kuyruk -->
              <path class="tail" d="M60,100 L0,70 L20,100 L0,130 Z" />
              <!-- Gövde -->
              <path class="body" d="M60,100 C60,65 140,35 220,75 C280,100 340,100 340,100 C340,100 280,125 220,150 C140,185 60,145 60,100 Z" />
              <!-- Yüzgeç -->
              <path class="body" d="M160,85 L190,15 L230,80 Z" />
              <!-- Göz -->
              <circle fill="white" cx="290" cy="95" r="3.5" />
              <circle fill="black" cx="292" cy="95" r="1.5" />
            </g>
          </svg>
          EOT

      - name: Push to Branch
        uses: crazy-max/ghaction-github-pages@v3
        with:
          target_branch: output
          build_dir: dist
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
